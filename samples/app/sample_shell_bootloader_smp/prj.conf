################################################################################
# GENERAL #
###########

# This option directs printk() debugging output to the supported console device,
# rather than suppressing the generation of printk() output entirely.
# Output is sent immediately, without any mutual exclusion or buffering.
CONFIG_PRINTK=y

# Global switch for the logger,
# when turned off log calls will not be compiled in.
### CONFIG_LOG=y

################################################################################
# DRIVERS #
###########

# Include GPIO drivers in system config
CONFIG_GPIO=y

# Enable USB drivers
CONFIG_USB=y

# Enable options for serial drivers.
CONFIG_SERIAL=y

# Enable console
CONFIG_CONSOLE=y

################################################################################
# USB #
#######

# Enable USB device stack
CONFIG_USB_DEVICE_STACK=y
# USB device product string.
CONFIG_USB_DEVICE_PRODUCT="Zephyr USB console sample"

# Enable this option to use the USB UART for console output. The output can
# be viewed from the USB host via /dev/ttyACM* port. Note that console inputs
# from the USB UART are not functional yet. Also since the USB layer currently
# doesn't support multiple interfaces, this shouldn't be selected in
# conjunction with, say, USB Mass Storage.
CONFIG_USB_UART_CONSOLE=y

################################################################################
# UART #
########

# USB CDC ACM device class driver. Default device name is “CDC_ACM_0”.
CONFIG_USB_CDC_ACM=y

# This option specifies the name of UART device to be used for the
# SHELL UART backend. In case when DTS is enabled (HAS_DTS),
# the default value is set from DTS chosen node ‘zephyr,shell-uart’
# but can be overridden here.
CONFIG_UART_SHELL_ON_DEV_NAME="CDC_ACM_0"

# This option specifies the name of UART device to be used for UART console.
CONFIG_UART_CONSOLE_ON_DEV_NAME="CDC_ACM_0"

# This option enables interrupt support for UART
# allowing console input and other UART based drivers.
CONFIG_UART_INTERRUPT_DRIVEN=y

# This enables the API for apps to control the serial line,
# such as baud rate, CTS and RTS.
# Implementation is up to individual driver. Says no if not sure.
CONFIG_UART_LINE_CTRL=y

################################################################################
# SHELL #
#########
# The settings below are partly from
# zephyr/samples/subsys/shell/shell_module/prj_minimal.conf

# Shell configurations
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_STACK_SIZE=1024
CONFIG_SHELL_CMD_BUFF_SIZE=128

# Enable built-in commands like ‘clear’, ‘history’, etc.
CONFIG_SHELL_CMDS=y

# Enable commands history. History can be accessed using up and down arrows.
CONFIG_SHELL_HISTORY=y

# Enable printing help on wrong argument count.
CONFIG_SHELL_HELP_ON_WRONG_ARGUMENT_COUNT=y

# Enables using wildcards: * and ? in the shell.
CONFIG_SHELL_WILDCARD=n

# This shell provides access to basic kernel data like
# version, uptime and other useful information.
### CONFIG_KERNEL_SHELL=y

# Enable shell statistics.
### CONFIG_SHELL_STATS=y

# This option outputs a banner to the console device during boot up.
### CONFIG_BOOT_BANNER=y

# Misc. settings
CONFIG_OBJECT_TRACING=y
CONFIG_THREAD_MONITOR=y
CONFIG_INIT_STACKS=y
CONFIG_THREAD_NAME=y
CONFIG_SHELL_VT100_COLORS=n

################################################################################
# MCUboot (compile MCUboot-compliant) #
#######################################
# # The settings below are copied from
# # zephyr/samples/subsys/usb/dfu/prj.conf
# # Settings which I have already set are commented out.

# # This sets the compilation process to "MCUboot" mode and
# # compiles the .hex file according to the partitions.
# CONFIG_BOOTLOADER_MCUBOOT=y

# # The settings below are for DFU (direct firmware update).
# # Because these settings are rather "messy" the "SMP Server Sample"
# # might have an alternative to DFU - namely SMP (over Shell or CDC).
# CONFIG_STDOUT_CONSOLE=y
# #CONFIG_GPIO=y
# #CONFIG_USB=y
# #CONFIG_USB_DEVICE_STACK=y
# #CONFIG_USB_DEVICE_PRODUCT="Zephyr DFU sample"
# CONFIG_USB_DFU_CLASS=y
# CONFIG_FLASH=y
# CONFIG_IMG_MANAGER=y
# CONFIG_FLASH_PAGE_LAYOUT=y
# CONFIG_LOG=y
# CONFIG_USB_DRIVER_LOG_LEVEL_ERR=y
# CONFIG_USB_DEVICE_LOG_LEVEL_ERR=y

################################################################################
# SMP #
#######
# Enable mcumgr.
CONFIG_MCUMGR=y

# Some command handlers require a large stack.
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Ensure an MCUboot-compatible binary is generated.
CONFIG_BOOTLOADER_MCUBOOT=y

# Enable flash operations.
CONFIG_FLASH=y

# Required by the `taskstat` command.
CONFIG_THREAD_MONITOR=y

# Enable statistics and statistic names.
CONFIG_STATS=y
CONFIG_STATS_NAMES=y

# Enable most core commands.
CONFIG_MCUMGR_CMD_IMG_MGMT=y
CONFIG_MCUMGR_CMD_OS_MGMT=y
CONFIG_MCUMGR_CMD_STAT_MGMT=y

# Enable logging
CONFIG_LOG=y

# Enable the shell mcumgr transport.
CONFIG_MCUMGR_SMP_SHELL=y